function sfBox(sfData){var windowWidth=$(window).width();var windowHeight=$(window).height();var maxWindow=windowHeight*0.8;if(typeof sfData.id==='undefined'){var sfId=$(this).data('id');}else{var sfId=sfData.id;}if(typeof sfData.load==='undefined'){var sfLoad=$(this).data('load');}else{var sfLoad=sfData.load;}if(typeof sfData.msg==='undefined'){var sfMsg=$(this).data('msg');}else{var sfMsg=sfData.msg;}if(typeof sfData.src==='undefined'){var sfSrc=$(this).data('src');}else{var sfSrc=sfData.src;}if(typeof sfData.width==='undefined'){var sfWidth=$(this).data('width');}else{var sfWidth=sfData.width;}if(typeof sfData.height==='undefined'){var sfHeight=$(this).data('height');}else{var sfHeight=sfData.height;}if(typeof sfData.dim==='undefined'){var sfDim=$(this).data('dim');}else{var sfDim=sfData.dim;}if(typeof sfData.sfbutton==='undefined'){var sfButton=$(this).data('sfbutton');}else{var sfButton=sfData.sfbutton;}if(typeof sfData.sfaction==='undefined'){var sfAction=$(this).data('sfaction');}else{var sfAction=sfData.sfaction;}if(typeof sfData.sfcancel==='undefined'){var sfCancel=$(this).data('sfcancel');}else{var sfCancel=sfData.sfcancel;}if(typeof sfData.padAll==='undefined'){var padAll=$(this).data('pad');}else{var padAll=sfData.pad;}if(typeof sfData.padRight==='undefined'){var padRight=$(this).data('padright');}else{var padRight=sfData.padright;}if(typeof sfData.other==='undefined'){var sfOther=$(this).data('other');}else{var sfOther=sfData.other;}if(typeof sfData.wclose==='undefined'){var sfWclose=$(this).data('wclose');}else{var sfWclose=sfData.wclose;}if(typeof sfLoad==='undefined'){sfLoad='';}if(typeof sfMsg==='undefined'){sfMsg='';}if(typeof sfSrc==='undefined'){sfSrc='';}if(typeof sfWidth==='undefined'){sfWidth='';}if(typeof sfHeight==='undefined'){sfHeight='';}if(typeof sfDim==='undefined'){sfDim='';}if(typeof sfButton==='undefined'){sfButton='';}if(typeof sfAction==='undefined'){sfAction='';}if(typeof sfCancel==='undefined'){sfCancel='';}if(typeof padAll==='undefined'){padAll='';}if(typeof padRight==='undefined'){padRight='';}if(typeof sfOther==='undefined'){sfOther='';}if(typeof sfWclose==='undefined'){sfWclose=1;}if(sfId==''){sfId='sf'+Math.floor((Math.random()*100)+1);}if(sfLoad==''){sfLoad="alert";}if(sfSrc!=''){sfSrc=sfSrc.replace("'","\'");}if(sfMsg!=''){sfMsg=sfMsg.replace("'","\'");sfMsg='<div>'+sfMsg+'</div>';}if(sfDim==''){sfDim="px";}if(sfWidth==''){sfWidth="500";}if(sfHeight=='auto'&&sfLoad!='alert'){sfHeight=maxWindow;}if(sfAction!=''){var sfaction_b='sfAction';var sfaction_r=sfAction;}else{var sfaction_b='sf-action';var sfaction_r='';}if(sfButton!=''){sfButton=sfButton.replace("'","\'");sfButton='<button class="sf-button '+sfaction_b+'" rel="'+sfaction_r+'">'+sfButton+'</button>';}if(sfCancel!=''){sfCancel=sfCancel.replace("'","\'");sfCancel='<button class="sf-cancel" style="float:left;">Cancel</button>';}if(padAll==''&&sfLoad!='frame'){if(sfLoad=='div'||sfLoad=='modal'){padAll="30";}else{padAll="15";}}if(padRight==''){padRight=padAll;}if(sfOther!=''){sfOther='?'+sfOther;}$('body').append('<div class="sf-mask"></div>');$('html').addClass('sf-overflow');if(sfLoad=='frame'){$('body').append('<div id="'+sfId+'" class="sf-window"><iframe class="sf-frame" width="100%" height="100%" frameBorder="0" style="background:#ffffff url(./images/spinner-icon-b.gif) center center no-repeat;"></iframe></div>');$('.sf-window').css({'overflow-x':'hidden','overflow-y':'hidden'});$('.sf-window').find('iframe').attr('src',sfSrc+sfOther);$('.sf-window').css({'padding':padAll+'px','padding-right':padRight+'px'});if(navigator.userAgent.match(/(iPod|iPhone|iPad|Android|BlackBerry|Windows Phone|webOS)/)){$('.sf-window').css({'overflow':'auto','-webkit-overflow-scrolling':'touch'});}}else if(sfLoad=='modal'){var sfContent=$('#'+sfSrc).html();$('body').append('<div id="'+sfId+'" class="sf-window"></div>');$('.sf-window').css({'background':'#ffffff','padding':padAll+'px','padding-right':padRight+'px','overflow-x':'hidden','overflow-y':'auto','box-sizing':'border-box','-moz-box-sizing':'border-box','-webkit-box-sizing':'border-box'});$('.sf-window').html(sfContent);}else if(sfLoad=='div'){$('body').append('<div id="'+sfId+'" class="sf-window"></div>');$('.sf-window').css({'background':'#ffffff','padding':padAll+'px','padding-right':padRight+'px','overflow-x':'hidden','overflow-y':'auto','box-sizing':'border-box','-moz-box-sizing':'border-box','-webkit-box-sizing':'border-box'});$('.sf-window').load(sfSrc+sfOther);}else{padAll="30";padRight="50";$('body').append('<div id="'+sfId+'" class="sf-window">'+sfMsg+sfButton+sfCancel+'</div>');$('.sf-window').css({'background':'#ffffff','padding':padAll+'px','padding-right':padRight+'px','overflow-x':'hidden','overflow-y':'auto'});}if(sfWclose==1){$('body').append('<div class="sf-close"></div>');}$(window).resize(function(){var windowWidth=$(window).width();var windowHeight=$(window).height();var wMargin=20;var tMargin=wMargin/2;var closeT=wMargin-10;var closeR=closeT-0;if($.isNumeric(sfWidth)&&($.isNumeric(sfHeight)||sfHeight=='auto')){if(windowWidth<=sfWidth||windowHeight<=sfHeight){$('.sf-window').css({'height':windowHeight-wMargin,'top':tMargin+'px'});$('.sf-window').css({'width':windowWidth-wMargin,'left':tMargin+'px'});$('.sf-close').css({'top':closeT+'px'});$('.sf-close').css({'right':closeR+'px'});}else{if(sfHeight=='auto'&&sfLoad=='alert'){$('.sf-window').css({'height':'auto','max-height':maxWindow+'px'});}else{$('.sf-window').css({'height':sfHeight+sfDim});}$('.sf-window').css({'width':sfWidth+sfDim});var mTop=(windowHeight/2)-($('.sf-window').outerHeight()/2);var mLeft=(windowWidth/2)-($('.sf-window').outerWidth()/2);$('.sf-window').css({'top':mTop+sfDim});$('.sf-window').css({'left':mLeft+sfDim});$('.sf-close').css({'top':mTop+0+sfDim});$('.sf-close').css({'right':mLeft+0+sfDim});}}else{if(windowWidth<=603||windowHeight<=603){$('.sf-window').css({'height':windowHeight-wMargin,'top':tMargin+'px'});$('.sf-window').css({'width':windowWidth-wMargin,'left':tMargin+'px'});$('.sf-close').css({'top':closeT+'px'});$('.sf-close').css({'right':closeR+'px'});}else{$('.sf-window').css({'height':'88%','top':'6%'});$('.sf-window').css({'width':'85.8%','left':'7%'});$('.sf-close').css({'top':'6%'});$('.sf-close').css({'right':'7.7%'});}}});$(window).resize();$('.sf-mask').show();$('#'+sfId).show();$('.sf-close').fadeIn(100);return false;}$(document).ready(function(){$(document).on("click",".sf-box",sfBox);});$(document).on("click",".sf-mask, .sf-close, .sf-action, .sf-cancel",function(){$('html').removeClass('sf-overflow');$('.sf-mask').hide().remove();$('.sf-window').hide().remove();$('.sf-close').hide().remove();});function sfClose(){$('html').removeClass('sf-overflow');$('.sf-mask').hide().remove();$('.sf-window').hide().remove();$('.sf-close').hide().remove();$(window).resize();}